# 完成一个简单的ALU

> 写在前面：
>
> 本次作业希望大家不要参考任何已有的ALU设计，请尽可能自己设计ALU的各个模块并相互连接
>
> *带\*为选做*



## 要求实现的功能

实验要求实现以下算术运算功能，其对应的控制码及功能如下：

| OP[2:0] |     功能            |     简介      |
| :-----: | :-----------:      | :-----------:  |
|   0000   | A + B(unsigned)   | 无符号加法|
|	*0001  | A + B(signed)     | 有符号加法|
|   0010   | A - B             | 减法|
|   0011   | $A \times B$      | 乘法 |
|   0100   | A << B            | 逻辑左移 |
|   *0101   | A >> B(unsigned) | 逻辑右移 |
|   *0110   | A >> B(signed)   | 算数左移|
|   0111   | SLT(unsigned)     | 无符号小于置 1 |
|   *1000   | SLT(signed)      | 有符号小于置 1 |
|   1001   | A AND B           | 位与 |
|   1010   | A OR B            | 位或 |
|   1011   | $\overline A$     | 位非 |
|   1100   | A XOR B           | 位异或 |



## ALU要求

1. 使用verilog编写一个ALU模块，其中输入为2个32位操作数和一个运算指令码，输出为一个32位结果*Y*（乘法为64位结果）。
2. \*加减法的溢出信号。
3. 乘法可以调用IP核或者直接用 \*，但是希望大家能写出一个自己的乘法器。

| ALU接口信号 | 位宽 |  方向  |                 功能                  |
| :---------: | :--: | :----: | :-----------------------------------: |
|      A      |  32  | input  |            32位操作数A输入            |
|      B      |  32  | input  |            32位操作数B输入            |
|   ALU_OP    | 任意 | input  | 控制ALU运算功能，位宽可根据需求自定义 |
|      Y      |  32  | output |             运算结果输出              |
|   Y_mult    |  64  | output |           乘法运算结果输出            |

*接口信号仅供参考*



## IO要求

1. 输入数据为一个32位操作数和一个16位操作数，将16位操作数进行有符号扩展至32位后输入ALU。
2. \*输入操作数为4位的OP，将OP译码为ALU的运算指令码后输入ALU。
3. 输出为32位的结果，乘法为64位。
4. \*加减法溢出信号、指令错误信号等。
5. \*输出后接8个七段数码管用于显示结果。
6. \*尝试使用52位二进制数一次输入所有数据和控制信号。

| IO接口信号 | 位宽 |  方向  |       功能       |
| :--------: | :--: | :----: | :--------------: |
|     A      |  32  | input  |  32位操作数输入  |
|     B      |  16  | input  |  16位操作数输入  |
|     OP     |  4   | input  |    控制码输入    |
|     Y      |  32  | output |   运算结果输出   |
|   Y_mult   |  64  | output | 乘法运算结果输出 |

*接口信号仅供参考*



## 仿真要求

1. 自行编写仿真文件，可以挨个功能测试，也可以一次性全部测试。
2. 注意测试要尽可能全面，如有符号加法的负加负、正加负、负加正、正加负，如果有溢出信号的测试两种溢出情况等等。



## 提交要求

| 目录    | 内容          |
| ------- | ------------- |
| \|-姓名|  |
| \|	\|-src/ | RTL源文件目录 |
| \|	\|	\|-lib/ | 放置其余的源码目录 |
| \|	\|	\|-alu.v | ALU核心源码 |
| \|	\|	\|-top.v | 顶层文件源码 |
| \|	\|	\|-MultCore.v | *乘法器源码 |
| \|	\|-sim/ | 仿真文件目录 |
| \|	\|	\|-top_tb.v | 仿真文件源码 |
| \|	\|Waveform.jpg | 仿真成功的波形文件，需要显示所有输入和输出 |

*可根据情况自行加源码文件至`./src/lib/`中*
